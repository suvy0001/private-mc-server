passionfruit_cake_em:
  Type: silverfish
  Display: 'Birthday Cake'
  AITargetSelectors:
  - 0 clear
  AIGoalSelectors:
  - 0 clear
  Health: 40
  Faction: Cake
  DamageModifiers:
  - FIRE 0
  - MAGIC 1.1
  - PROJECTILE 0.25
  Damage: 1 
  KillMessages:
  - '<target.name> was killed by a cake. How? uh... xd'
  Drops:
  - exp 10-25 1
  Skills:
  - message{m="Hitrec <caster.var.hitrec> STACKS"} @PlayersNearOrigin{r=75} ~onDamaged 0 #DEBUGMESSAGE
#====== MODEL ASSIGNEMENT =============
  - model{mid=em_passionfruit_cake;s=idle;n=false;damagetint=false} @self ~onSpawn 1
  - lockmodel{l=true} @Self ~onSpawn
  - submodel{mid=em_passionfruit_cake;subpartid=stages;remove=true} @self ~onSpawn 1
  
  - sound{s=entity.chicken.egg;pitch=1.4} @self ~onSpawn 
  - sound{s=block.honey_block.place;pitch=0.9} @self ~onSpawn
  - takeitem{i=passionfruit_cake_em;a=1} @Parent ~onSpawn
#LOCATION ASSIGNEMENT 
  - setvariable{var=caster.locationx;value="<caster.l.x>";t=integer} @Self ~onSpawn
  - setvariable{var=caster.locationy;value="<caster.l.y>";t=integer} @Self ~onSpawn
  - setvariable{var=caster.locationz;value="<caster.l.z>";t=integer} @Self ~onSpawn
  - teleport{spreadh=0;spreadv=0} @Location{c=<caster.l.x>+0.5,<caster.l.y>+0.3,<caster.var.locationz>+0.5,0,-1;delay=0} ~onSpawn
  - look{headOnly=false;immediately=false;repeat=40;repeatInterval=1;delay=0} @Location{c=<caster.l.x>,<caster.l.y>,<caster.var.locationz>+0.5,0,-1} ~onSpawn
  - teleport{spreadh=0;spreadv=0} @Location{c=<caster.l.x>+0.5,<caster.l.y>+1,<caster.var.locationz>+0.5,0,-1;delay=2} ~onSpawn ?!inblock{b=air}
#=========

#SLICES MANAGEMENT
  - setvariable{var=caster.slices;value="8";t=integer} @Self ~onSpawn
  - playanimation{a=0;audience=World} @Trigger ~onSignal:CAKE_SLICE
  - skill{s=slice_cake_em_passionfruit_cake;sync=true} ~onSignal:CAKE_SLICE
  - skill{s=slice_cake_em_passionfruit_cake;sync=true} ~onDamaged
  - dropitem{i=passionfruit_slice;repeat=<caster.var.slices>;repeatinterval=1} @SelfLocation{y=0.5} ~onDeath

  Options:
    Silent: true
    AlwaysShowName: false
    MovementSpeed: 0.0001
    Interactable: true
    PreventOtherDrops: true
    KnockbackResistance: 1
    PreventSunburn: true
    Collidable: false

strawberry_cake_em:
  Type: silverfish
  Display: 'Birthday Cake'
  AITargetSelectors:
  - 0 clear
  AIGoalSelectors:
  - 0 clear
  Health: 40
  Faction: Cake
  DamageModifiers:
  - FIRE 0
  - MAGIC 1.1
  - PROJECTILE 0.25
  Damage: 1 
  KillMessages:
  - '<target.name> was killed by a cake. How? uh... xd'
  Drops:
  - exp 10-25 1
  Skills:
  - message{m="Hitrec <caster.var.hitrec> STACKS"} @PlayersNearOrigin{r=75} ~onDamaged 0 #DEBUGMESSAGE
#====== MODEL ASSIGNEMENT =============
  - model{mid=em_strawberry_cake;s=idle;n=false;damagetint=false} @self ~onSpawn 1
  - lockmodel{l=true} @Self ~onSpawn
  - submodel{mid=em_strawberry_cake;subpartid=stages;remove=true} @self ~onSpawn 1
  
  - sound{s=entity.chicken.egg;pitch=1.4} @self ~onSpawn
  - sound{s=block.honey_block.place;pitch=0.9} @self ~onSpawn
  - takeitem{i=strawberry_cake_em;a=1} @Parent ~onSpawn
#LOCATION ASSIGNEMENT 
  - setvariable{var=caster.locationx;value="<caster.l.x>";t=integer} @Self ~onSpawn
  - setvariable{var=caster.locationy;value="<caster.l.y>";t=integer} @Self ~onSpawn
  - setvariable{var=caster.locationz;value="<caster.l.z>";t=integer} @Self ~onSpawn
  - teleport{spreadh=0;spreadv=0} @Location{c=<caster.l.x>+0.5,<caster.l.y>+0.3,<caster.var.locationz>+0.5,0,-1;delay=0} ~onSpawn
  - look{headOnly=false;immediately=false;repeat=40;repeatInterval=1;delay=0} @Location{c=<caster.l.x>,<caster.l.y>,<caster.var.locationz>+0.5,0,-1} ~onSpawn
  - teleport{spreadh=0;spreadv=0} @Location{c=<caster.l.x>+0.5,<caster.l.y>+1,<caster.var.locationz>+0.5,0,-1;delay=2} ~onSpawn ?!inblock{b=air}
#=========

#SLICES MANAGEMENT
  - setvariable{var=caster.slices;value="8";t=integer} @Self ~onSpawn
  - playanimation{a=0;audience=World} @Trigger ~onSignal:CAKE_SLICE
  - skill{s=slice_cake_em_strawberry_cake;sync=true} ~onSignal:CAKE_SLICE
  - skill{s=slice_cake_em_strawberry_cake;sync=true} ~onDamaged
  - skill{s=soplamientum_cako;sync=true} ~onDamaged
  - dropitem{i=strawberry_slice;repeat=<caster.var.slices>;repeatinterval=1} @SelfLocation{y=0.5} ~onDeath

# CANDLE MANAGEMENT
  - skill{s=candle_light_em_strawberry_cake} @self ~onInteract

  Options:
    Silent: true
    AlwaysShowName: false
    MovementSpeed: 0.0001
    Interactable: true
    PreventOtherDrops: true
    KnockbackResistance: 1
    PreventSunburn: true
    Collidable: false

#====== CHOCO CAKE

choco_cake_em:
  Type: silverfish
  Display: 'Birthday Cake'
  AITargetSelectors:
  - 0 clear
  AIGoalSelectors:
  - 0 clear
  Health: 40
  Faction: Cake
  DamageModifiers:
  - FIRE 0
  - MAGIC 1.1
  - PROJECTILE 0.25
  Damage: 1 
  KillMessages:
  - '<target.name> was killed by a cake. How? uh... xd'
  Drops:
  - exp 10-25 1
  Skills:
  - message{m="Hitrec <caster.var.hitrec> STACKS"} @PlayersNearOrigin{r=75} ~onDamaged 0 #DEBUGMESSAGE
#====== MODEL ASSIGNEMENT =============
  - model{mid=em_choco_cake;s=idle;n=false;damagetint=false} @self ~onSpawn 1
  - lockmodel{l=true} @Self ~onSpawn
  - submodel{mid=em_choco_cake;subpartid=stages;remove=true} @self ~onSpawn 1
  
  - sound{s=entity.chicken.egg;pitch=1.4} @self ~onSpawn
  - sound{s=block.honey_block.place;pitch=0.9} @self ~onSpawn
  - takeitem{i=choco_cake_em;a=1} @Parent ~onSpawn
#LOCATION ASSIGNEMENT 
  - setvariable{var=caster.locationx;value="<caster.l.x>";t=integer} @Self ~onSpawn
  - setvariable{var=caster.locationy;value="<caster.l.y>";t=integer} @Self ~onSpawn
  - setvariable{var=caster.locationz;value="<caster.l.z>";t=integer} @Self ~onSpawn
  - teleport{spreadh=0;spreadv=0} @Location{c=<caster.l.x>+0.5,<caster.l.y>+0.3,<caster.var.locationz>+0.5,0,-1;delay=0} ~onSpawn
  - look{headOnly=false;immediately=false;repeat=40;repeatInterval=1;delay=0} @Location{c=<caster.l.x>,<caster.l.y>,<caster.var.locationz>+0.5,0,-1} ~onSpawn
  - teleport{spreadh=0;spreadv=0} @Location{c=<caster.l.x>+0.5,<caster.l.y>+1,<caster.var.locationz>+0.5,0,-1;delay=2} ~onSpawn ?!inblock{b=air}
#=========

#SLICES MANAGEMENT
  - setvariable{var=caster.slices;value="14";t=integer} @Self ~onSpawn
  - playanimation{a=0;audience=World} @Trigger ~onSignal:CAKE_SLICE
  - skill{s=slice_cake_em_choco_cake;sync=true} ~onSignal:CAKE_SLICE
  - skill{s=slice_cake_em_choco_cake;sync=true} ~onDamaged
  - skill{s=soplamientum_cako;sync=true} ~onDamaged
  - dropitem{i=choco_slice;repeat=<caster.var.slices>;repeatinterval=1} @SelfLocation{y=0.5} ~onDeath

# CANDLE MANAGEMENT
  - skill{s=candle_light_em_choco_cake} @self ~onInteract

  Options:
    Silent: true
    AlwaysShowName: false
    MovementSpeed: 0.0001
    Interactable: true
    PreventOtherDrops: true
    KnockbackResistance: 1
    PreventSunburn: true
    Collidable: false


#====== RASPBERRY CAKE

framboise_cake_em:
  Type: silverfish
  Display: 'Birthday Cake'
  AITargetSelectors:
  - 0 clear
  AIGoalSelectors:
  - 0 clear
  Health: 40
  Faction: Cake
  DamageModifiers:
  - FIRE 0
  - MAGIC 1.1
  - PROJECTILE 0.25
  Damage: 1 
  KillMessages:
  - '<target.name> was killed by a cake. How? uh... xd'
  Drops:
  - exp 10-25 1
  Skills:
  - message{m="Hitrec <caster.var.hitrec> STACKS"} @PlayersNearOrigin{r=75} ~onDamaged 0 #DEBUGMESSAGE
#====== MODEL ASSIGNEMENT =============
  - model{mid=em_framboise_cake;s=idle;n=false;damagetint=false} @self ~onSpawn 1
  - lockmodel{l=true} @Self ~onSpawn
  - submodel{mid=em_framboise_cake;subpartid=stages;remove=true} @self ~onSpawn 1
  
  - sound{s=entity.chicken.egg;pitch=1.4} @self ~onSpawn
  - sound{s=block.honey_block.place;pitch=0.9} @self ~onSpawn
  - takeitem{i=framboise_cake_em;a=1} @Parent ~onSpawn
#LOCATION ASSIGNEMENT 
  - setvariable{var=caster.locationx;value="<caster.l.x>";t=integer} @Self ~onSpawn
  - setvariable{var=caster.locationy;value="<caster.l.y>";t=integer} @Self ~onSpawn
  - setvariable{var=caster.locationz;value="<caster.l.z>";t=integer} @Self ~onSpawn
  - teleport{spreadh=0;spreadv=0} @Location{c=<caster.l.x>+0.5,<caster.l.y>+0.3,<caster.var.locationz>+0.5,0,-1;delay=0} ~onSpawn
  - look{headOnly=false;immediately=false;repeat=40;repeatInterval=1;delay=0} @Location{c=<caster.l.x>,<caster.l.y>,<caster.var.locationz>+0.5,0,-1} ~onSpawn
  - teleport{spreadh=0;spreadv=0} @Location{c=<caster.l.x>+0.5,<caster.l.y>+1,<caster.var.locationz>+0.5,0,-1;delay=2} ~onSpawn ?!inblock{b=air}
#=========

#SLICES MANAGEMENT
  - setvariable{var=caster.slices;value="14";t=integer} @Self ~onSpawn
  - playanimation{a=0;audience=World} @Trigger ~onSignal:CAKE_SLICE
  - skill{s=slice_cake_em_framboise_cake;sync=true} ~onSignal:CAKE_SLICE
  - skill{s=slice_cake_em_framboise_cake;sync=true} ~onDamaged
  - skill{s=soplamientum_cako;sync=true} ~onDamaged
  - dropitem{i=framboise_slice;repeat=<caster.var.slices>;repeatinterval=1} @SelfLocation{y=0.5} ~onDeath

# CANDLE MANAGEMENT
  - skill{s=candle_light_em_framboise_cake} @self ~onInteract

  Options:
    Silent: true
    AlwaysShowName: false
    MovementSpeed: 0.0001
    Interactable: true
    PreventOtherDrops: true
    KnockbackResistance: 1
    PreventSunburn: true
    Collidable: false
  
#====== RED VELVET CAKE

redvelvet_cake_em:
  Type: silverfish
  Display: 'Birthday Cake'
  AITargetSelectors:
  - 0 clear
  AIGoalSelectors:
  - 0 clear
  Health: 40
  Faction: Cake
  DamageModifiers:
  - FIRE 0
  - MAGIC 1.1
  - PROJECTILE 0.25
  Damage: 1 
  KillMessages:
  - '<target.name> was killed by a cake. How? uh... xd'
  Drops:
  - exp 10-25 1
  Skills:
  - message{m="Hitrec <caster.var.hitrec> STACKS"} @PlayersNearOrigin{r=75} ~onDamaged 0 #DEBUGMESSAGE
#====== MODEL ASSIGNEMENT =============
  - model{mid=em_redvelvet_cake;s=idle;n=false;damagetint=false} @self ~onSpawn 1
  - lockmodel{l=true} @Self ~onSpawn
  - submodel{mid=em_redvelvet_cake;subpartid=stages;remove=true} @self ~onSpawn 1
  
  - sound{s=entity.chicken.egg;pitch=1.4} @self ~onSpawn
  - sound{s=block.honey_block.place;pitch=0.9} @self ~onSpawn
  - takeitem{i=redvelvet_cake_em;a=1} @Parent ~onSpawn
#LOCATION ASSIGNEMENT 
  - setvariable{var=caster.locationx;value="<caster.l.x>";t=integer} @Self ~onSpawn
  - setvariable{var=caster.locationy;value="<caster.l.y>";t=integer} @Self ~onSpawn
  - setvariable{var=caster.locationz;value="<caster.l.z>";t=integer} @Self ~onSpawn
  - teleport{spreadh=0;spreadv=0} @Location{c=<caster.l.x>+0.5,<caster.l.y>+0.3,<caster.var.locationz>+0.5,0,-1;delay=0} ~onSpawn
  - look{headOnly=false;immediately=false;repeat=40;repeatInterval=1;delay=0} @Location{c=<caster.l.x>,<caster.l.y>,<caster.var.locationz>+0.5,0,-1} ~onSpawn
  - teleport{spreadh=0;spreadv=0} @Location{c=<caster.l.x>+0.5,<caster.l.y>+1,<caster.var.locationz>+0.5,0,-1;delay=2} ~onSpawn ?!inblock{b=air}
#=========

#SLICES MANAGEMENT
  - setvariable{var=caster.slices;value="14";t=integer} @Self ~onSpawn
  - playanimation{a=0;audience=World} @Trigger ~onSignal:CAKE_SLICE
  - skill{s=slice_cake_em_redvelvet_cake;sync=true} ~onSignal:CAKE_SLICE
  - skill{s=slice_cake_em_redvelvet_cake;sync=true} ~onDamaged
  - skill{s=soplamientum_cako;sync=true} ~onDamaged
  - dropitem{i=redvelvet_slice;repeat=<caster.var.slices>;repeatinterval=1} @SelfLocation{y=0.5} ~onDeath

# CANDLE MANAGEMENT
  - skill{s=candle_light_em_choco_cake} @self ~onInteract

  Options:
    Silent: true
    AlwaysShowName: false
    MovementSpeed: 0.0001
    Interactable: true
    PreventOtherDrops: true
    KnockbackResistance: 1
    PreventSunburn: true
    Collidable: false


#============
confetti_em:
  Type: vex
  Display: ''
  Faction: Confetti
  AITargetSelectors:
  - 0 clear
  AIGoalSelectors:
  - 0 clear
  Health: 150
  Damage: 0
  Drops:
  Skills:
   - model{mid=em_confetto_marker;n=false;damagetint=false} @self ~onSpawn 1
   - lockmodel{l=true} @Self ~onSpawn
   
   - sound{s=entity.firework_rocket.blast;pitch=1.6;v=3} @self ~onSpawn
   - sound{s=em_bridday:custom.bridday.confetto1;pitch=<random.float.0.8to1.4>} @self ~onSpawn
   - state{s=spawn;li=0} @self ~onSpawn
   - skill{s=[
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum1;delay=0} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum2;delay=1} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum3;delay=2} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum4;delay=3} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum5;delay=4} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum6;delay=5} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum7;delay=6} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum8;delay=7} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum9;delay=8} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum10;delay=9} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum11;delay=11} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum12;delay=13} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum13;delay=16} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum14;delay=19} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum15;delay=22} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum16;delay=25} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum17;delay=28} @self];sync=true} @self ~onSpawn 1
   - potion{type=INVISIBILITY;duration=99999;level=1;p=false} @Self ~onSpawn 1
   - cancelEvent{sync=true} ~onAttack
   - remove{delay=40} @Self ~onSpawn
   - potion{type=SLOW_FALLING;duration=50;lvl=5;p=true;force=true} ~onSpawn
   - effect:particles{particle=reddust;color=#03c982;amount=5;hS=0.3;vS=0.3;size=0.8;repeat=1;repeatinterval=1} @Origin{y=0.3} ~onSpawn 1
  Options:
    ApplyInvisibility: true
    Silent: true
    AlwaysShowName: false
    MovementSpeed: 0.0001
    MaxCombatDistance: 5
    PreventOtherDrops: true
    PreventItemPickup: true
    FollowRange: 50
    Despawn: true
    Interactable: false
    KnockbackResistance: 0
    Collidable: false
    NoGravity: true
    Invincible: true
  
confetti_em2:
  Type: vex
  Display: ''
  Faction: Confetti
  AITargetSelectors:
  - 0 clear
  AIGoalSelectors:
  - 0 clear
  Health: 150
  Damage: 0
  Drops:
  Skills:
   - model{mid=em_confetto_marker;n=false;damagetint=false} @self ~onSpawn 1
   - lockmodel{l=true} @Self ~onSpawn
   
   - state{s=spawn;li=0} @self ~onSpawn
   - skill{s=[
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum1;delay=0} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum2;delay=1} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum3;delay=2} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum4;delay=3} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum5;delay=4} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum6;delay=5} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum7;delay=6} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum8;delay=7} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum9;delay=8} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum10;delay=9} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum11;delay=11} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum12;delay=13} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum13;delay=16} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum14;delay=19} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum15;delay=22} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum16;delay=25} @self
    - changepart{m=em_confetto_marker;pid=frame;nm=em_confetti_resources;npid=fetum17;delay=28} @self];sync=true} @self ~onSpawn 1
   - potion{type=INVISIBILITY;duration=99999;level=1;p=false} @Self ~onSpawn 1
   - cancelEvent{sync=true} ~onAttack
   - remove{delay=40} @Self ~onSpawn
   - potion{type=SLOW_FALLING;duration=50;lvl=5;p=true;force=true} ~onSpawn
   - effect:particles{particle=reddust;color=#03c982;amount=5;hS=0.3;vS=0.3;size=0.8;repeat=1;repeatinterval=1} @Origin{y=4.3} ~onSpawn 1
  Options:
    ApplyInvisibility: true
    Silent: true
    AlwaysShowName: false
    MovementSpeed: 0.0001
    MaxCombatDistance: 5
    PreventOtherDrops: true
    PreventItemPickup: true
    FollowRange: 50
    Despawn: true
    Interactable: false
    KnockbackResistance: 0
    Collidable: false
    NoGravity: true
    Invincible: true
