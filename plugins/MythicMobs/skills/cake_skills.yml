# CAKOS

death_cake:
  Skills:
  - remove @Self

candle_light_em_choco_cake:
  Cooldown: 3
  TriggerConditions:
  - holding{m=flint_and_steel} true
  Conditions:
  - variableInRange{var=caster.slices;value=<12} false
  - hasaura{n=candlelitAura_em_cake} castInstead soplamientum_cako
  Skills:
  - sound{s=item.flintandsteel.use;pitch=1.2} @self
  - sound{s=block.campfire.crackle;pitch=1.2} @self
  - Aura{auraName=candlelitAura_em_cake;duration=500;onTick=[
      - effect:particles{particle=flame;amount=1;hS=0;vS=0;speed=0.004} @ModelPart{p=candle_marker1;offset=LOCAL;y=0.1}
      - effect:particles{particle=flame;amount=1;hS=0;vS=0;speed=0.004} @ModelPart{p=candle_marker2;offset=LOCAL;y=0.1}
      - effect:particles{particle=flame;amount=1;hS=0;vS=0;speed=0.004} @ModelPart{p=candle_marker3;offset=LOCAL;y=0.1}
      - effect:particles{particle=flame;amount=1;hS=0;vS=0;speed=0.004} @ModelPart{p=candle_marker4;offset=LOCAL;y=0.1}
      ]
    ;onEnd=[
      - effect:particles{p=smoke_large;amount=2;size=1;repeat=3;repeatinterval=1;speed=0.006} @ModelPart{p=candle_marker1;offset=LOCAL;y=0.1}
    ];i=10;refreshDuration=true} @Self
  
  - delay 10
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 10
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 5
  - sound{s=block.note_block.chime;pitch=1.11} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1.32} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1.26} ?hasaura{n=candlelitAura_em_cake}
  - delay 30
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 10
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 5
  - sound{s=block.note_block.chime;pitch=1.11} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1.47} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1.32} ?hasaura{n=candlelitAura_em_cake}

candle_light_em_strawberry_cake:
  Cooldown: 3
  TriggerConditions:
  - holding{m=flint_and_steel} true
  Conditions:
  - variableInRange{var=caster.slices;value=<5} false
  - hasaura{n=candlelitAura_em_cake} castInstead soplamientum_cako
  Skills:
  - sound{s=item.flintandsteel.use;pitch=1.2} @self
  - sound{s=block.campfire.crackle;pitch=1.2} @self
  - Aura{auraName=candlelitAura_em_cake;duration=500;onTick=[
      - effect:particles{particle=flame;amount=1;hS=0;vS=0;speed=0.004} @ModelPart{p=candle_marker1;offset=LOCAL;y=0.1}
      - effect:particles{particle=flame;amount=1;hS=0;vS=0;speed=0.004} @ModelPart{p=candle_marker2;offset=LOCAL;y=0.1}
      - effect:particles{particle=flame;amount=1;hS=0;vS=0;speed=0.004} @ModelPart{p=candle_marker3;offset=LOCAL;y=0.1}
      - effect:particles{particle=flame;amount=1;hS=0;vS=0;speed=0.004} @ModelPart{p=candle_marker4;offset=LOCAL;y=0.1}
      ]
    ;onEnd=[
      - effect:particles{p=smoke_large;amount=2;size=1;repeat=3;repeatinterval=1;speed=0.006} @ModelPart{p=candle_marker1;offset=LOCAL;y=0.1}
    ];i=10;refreshDuration=true} @Self
  
  - delay 10
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 10
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 5
  - sound{s=block.note_block.chime;pitch=1.11} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1.32} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1.26} ?hasaura{n=candlelitAura_em_cake}
  - delay 30
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 10
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 5
  - sound{s=block.note_block.chime;pitch=1.11} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1.47} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1.32} ?hasaura{n=candlelitAura_em_cake}

soplamientum_cako:
  Conditions:
  - hasaura{n=candlelitAura_em_cake} true
  Skills:
  - auraremove{aura=candlelitAura_em_cake} @self
  - effect:particles{p=smoke_large;amount=2;size=1;repeat=3;repeatinterval=1;speed=0.006} @ModelPart{p=candle_marker1;offset=LOCAL;y=0.1}
  - effect:particles{p=smoke_large;amount=2;size=1;repeat=3;repeatinterval=1;speed=0.006} @ModelPart{p=candle_marker2;offset=LOCAL;y=0.1}
  - effect:particles{p=smoke_large;amount=2;size=1;repeat=3;repeatinterval=1;speed=0.006} @ModelPart{p=candle_marker3;offset=LOCAL;y=0.1}
  - effect:particles{p=smoke_large;amount=2;size=1;repeat=3;repeatinterval=1;speed=0.006} @ModelPart{p=candle_marker4;offset=LOCAL;y=0.1}
  - sound{s=entity.generic.extinguish_fire;pitch=1.2} @self

slice_cake_em_passionfruit_cake:
  Cooldown: 0.4
  TriggerConditions:
  - holding{m=cakeknife_em} true
  Conditions:
  - variableInRange{var=caster.slices;value=<1} castInstead death_cake
  Skills:
  - variablesubtract{var=caster.slices;amount=1} @self
  - message{m="Slices <caster.var.slices> xd"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - sound{s=block.cake.add_candle;pitch=1.2} @self
  - effect:particles{particle=block_crack;material=white_wool;amount=6;hS=0.15;vS=0.15;size=1.2;y=0.3} @Self
  - dropitem{i=passionfruit_slice} @selflocation{y=0.5} ?!variableEquals{var=caster.slices;value="3"}
  - dropitem{i=passionfruit_slice2} @selflocation{y=0.5} ?variableEquals{var=caster.slices;value="3"}
  - changepart{m=em_passionfruit_cake;pid=core;nm=em_passionfruit_cake;npid=cake1} @self ?variableEquals{var=caster.slices;value="7"}
  - changepart{m=em_passionfruit_cake;pid=core;nm=em_passionfruit_cake;npid=cake2} @self ?variableEquals{var=caster.slices;value="6"}
  - changepart{m=em_passionfruit_cake;pid=core;nm=em_passionfruit_cake;npid=cake3} @self ?variableEquals{var=caster.slices;value="5"}
  - changepart{m=em_passionfruit_cake;pid=core;nm=em_passionfruit_cake;npid=cake4} @self ?variableEquals{var=caster.slices;value="4"}
  - changepart{m=em_passionfruit_cake;pid=core;nm=em_passionfruit_cake;npid=cake5} @self ?variableEquals{var=caster.slices;value="3"}
  - changepart{m=em_passionfruit_cake;pid=core;nm=em_passionfruit_cake;npid=cake6} @self ?variableEquals{var=caster.slices;value="2"}
  - changepart{m=em_passionfruit_cake;pid=core;nm=em_passionfruit_cake;npid=cake7} @self ?variableEquals{var=caster.slices;value="1"}
  - remove @Self ?variableEquals{var=caster.slices;value="0"}


slice_cake_em_strawberry_cake:
  Cooldown: 0.4
  TriggerConditions:
  - holding{m=cakeknife_em} true
  Conditions:
  - variableInRange{var=caster.slices;value=<1} castInstead death_cake
  Skills:
  - variablesubtract{var=caster.slices;amount=1} @self
  - message{m="Slices <caster.var.slices> xd"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - sound{s=block.cake.add_candle;pitch=1.2} @self
  - skill{s=soplamientum_cako} @Self ?variableInRange{var=caster.slices;value=<5}
  - effect:particles{particle=block_crack;material=white_wool;amount=6;hS=0.15;vS=0.15;size=1.2;y=0.3} @Self
  - dropitem{i=strawberry_slice} @selflocation{y=0.5} 
  - changepart{m=em_strawberry_cake;pid=core;nm=em_strawberry_cake;npid=cake1} @self ?variableEquals{var=caster.slices;value="7"}
  - changepart{m=em_strawberry_cake;pid=core;nm=em_strawberry_cake;npid=cake2} @self ?variableEquals{var=caster.slices;value="6"}
  - changepart{m=em_strawberry_cake;pid=core;nm=em_strawberry_cake;npid=cake3} @self ?variableEquals{var=caster.slices;value="5"}
  - changepart{m=em_strawberry_cake;pid=core;nm=em_strawberry_cake;npid=cake4} @self ?variableEquals{var=caster.slices;value="4"}
  - changepart{m=em_strawberry_cake;pid=core;nm=em_strawberry_cake;npid=cake5} @self ?variableEquals{var=caster.slices;value="3"}
  - changepart{m=em_strawberry_cake;pid=core;nm=em_strawberry_cake;npid=cake6} @self ?variableEquals{var=caster.slices;value="2"}
  - changepart{m=em_strawberry_cake;pid=core;nm=em_strawberry_cake;npid=cake7} @self ?variableEquals{var=caster.slices;value="1"}
  - remove @Self ?variableEquals{var=caster.slices;value="0"}

slice_cake_em_choco_cake:
  Cooldown: 0.4
  TriggerConditions:
  - holding{m=cakeknife_em} true
  Conditions:
  - variableInRange{var=caster.slices;value=<1} castInstead death_cake
  Skills:
  - variablesubtract{var=caster.slices;amount=1} @self
  - message{m="Slices <caster.var.slices> xd"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - sound{s=block.cake.add_candle;pitch=1.2} @self
  - skill{s=soplamientum_cako} @Self ?variableInRange{var=caster.slices;value=<12}

  - effect:particles{particle=block_crack;material=white_wool;amount=6;hS=0.15;vS=0.15;size=1.2;y=0.3} @Self
  - dropitem{i=choco_slice2} @selflocation{y=0.5} ?variableInRange{var=caster.slices;value=>7}
  - dropitem{i=choco_slice} @selflocation{y=0.5} ?!variableInRange{var=caster.slices;value=>7}
  - changepart{m=em_choco_cake;pid=core;nm=em_choco_cake;npid=cake1} @self ?variableEquals{var=caster.slices;value="13"}
  - changepart{m=em_choco_cake;pid=core;nm=em_choco_cake;npid=cake2} @self ?variableEquals{var=caster.slices;value="12"}
  - changepart{m=em_choco_cake;pid=core;nm=em_choco_cake;npid=cake3} @self ?variableEquals{var=caster.slices;value="11"}
  - changepart{m=em_choco_cake;pid=core;nm=em_choco_cake;npid=cake4} @self ?variableEquals{var=caster.slices;value="10"}
  - changepart{m=em_choco_cake;pid=core;nm=em_choco_cake;npid=cake5} @self ?variableEquals{var=caster.slices;value="9"}
  - changepart{m=em_choco_cake;pid=core;nm=em_choco_cake;npid=cake6} @self ?variableEquals{var=caster.slices;value="8"}
  - changepart{m=em_choco_cake;pid=core;nm=em_choco_cake;npid=cake7} @self ?variableEquals{var=caster.slices;value="7"}
  - changepart{m=em_choco_cake;pid=core;nm=em_choco_cake;npid=cake8} @self ?variableEquals{var=caster.slices;value="6"}
  - changepart{m=em_choco_cake;pid=core;nm=em_choco_cake;npid=cake9} @self ?variableEquals{var=caster.slices;value="5"}
  - changepart{m=em_choco_cake;pid=core;nm=em_choco_cake;npid=cake10} @self ?variableEquals{var=caster.slices;value="4"}
  - changepart{m=em_choco_cake;pid=core;nm=em_choco_cake;npid=cake11} @self ?variableEquals{var=caster.slices;value="3"}
  - changepart{m=em_choco_cake;pid=core;nm=em_choco_cake;npid=cake12} @self ?variableEquals{var=caster.slices;value="2"}
  - changepart{m=em_choco_cake;pid=core;nm=em_choco_cake;npid=cake13} @self ?variableEquals{var=caster.slices;value="1"}
  - remove @Self ?variableEquals{var=caster.slices;value="0"}

slice_cake_em_framboise_cake:
  Cooldown: 0.4
  TriggerConditions:
  - holding{m=cakeknife_em} true
  Conditions:
  - variableInRange{var=caster.slices;value=<1} castInstead death_cake
  Skills:
  - variablesubtract{var=caster.slices;amount=1} @self
  - message{m="Slices <caster.var.slices> xd"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - sound{s=block.cake.add_candle;pitch=1.2} @self
  - skill{s=soplamientum_cako} @Self ?variableInRange{var=caster.slices;value=<12}

  - effect:particles{particle=block_crack;material=white_wool;amount=6;hS=0.15;vS=0.15;size=1.2;y=0.3} @Self
  - dropitem{i=framboise_slice2} @selflocation{y=0.5} ?variableInRange{var=caster.slices;value=>7}
  - dropitem{i=framboise_slice } @selflocation{y=0.5} ?!variableInRange{var=caster.slices;value=>7}
  - submodel{mid=em_framboise_cake;subpartid=candle_marker3;remove=true} @self ?variableEquals{var=caster.slices;value="12"}
  - submodel{mid=em_framboise_cake;subpartid=candle_marker2;remove=true} @self ?variableEquals{var=caster.slices;value="10"}
  - submodel{mid=em_framboise_cake;subpartid=candle_marker1;remove=true} @self ?variableEquals{var=caster.slices;value="9"}
  - changepart{m=em_framboise_cake;pid=core;nm=em_framboise_cake;npid=cake1} @self ?variableEquals{var=caster.slices;value="13"}
  - changepart{m=em_framboise_cake;pid=core;nm=em_framboise_cake;npid=cake2} @self ?variableEquals{var=caster.slices;value="12"}
  - changepart{m=em_framboise_cake;pid=core;nm=em_framboise_cake;npid=cake3} @self ?variableEquals{var=caster.slices;value="11"}
  - changepart{m=em_framboise_cake;pid=core;nm=em_framboise_cake;npid=cake4} @self ?variableEquals{var=caster.slices;value="10"}
  - changepart{m=em_framboise_cake;pid=core;nm=em_framboise_cake;npid=cake5} @self ?variableEquals{var=caster.slices;value="9"}
  - changepart{m=em_framboise_cake;pid=core;nm=em_framboise_cake;npid=cake6} @self ?variableEquals{var=caster.slices;value="8"}
  - changepart{m=em_framboise_cake;pid=core;nm=em_framboise_cake;npid=cake7} @self ?variableEquals{var=caster.slices;value="7"}
  - changepart{m=em_framboise_cake;pid=core;nm=em_framboise_cake;npid=cake8} @self ?variableEquals{var=caster.slices;value="6"}
  - changepart{m=em_framboise_cake;pid=core;nm=em_framboise_cake;npid=cake9} @self ?variableEquals{var=caster.slices;value="5"}
  - changepart{m=em_framboise_cake;pid=core;nm=em_framboise_cake;npid=cake10} @self ?variableEquals{var=caster.slices;value="4"}
  - changepart{m=em_framboise_cake;pid=core;nm=em_framboise_cake;npid=cake11} @self ?variableEquals{var=caster.slices;value="3"}
  - changepart{m=em_framboise_cake;pid=core;nm=em_framboise_cake;npid=cake12} @self ?variableEquals{var=caster.slices;value="2"}
  - changepart{m=em_framboise_cake;pid=core;nm=em_framboise_cake;npid=cake13} @self ?variableEquals{var=caster.slices;value="1"}
  - remove @Self ?variableEquals{var=caster.slices;value="0"}

candle_light_em_framboise_cake:
  Cooldown: 3
  TriggerConditions:
  - holding{m=flint_and_steel} true
  Conditions:
  - variableInRange{var=caster.slices;value=<12} false
  - hasaura{n=candlelitAura_em_cake} castInstead soplamientum_cako
  Skills:
  - sound{s=item.flintandsteel.use;pitch=1.2} @self
  - sound{s=block.campfire.crackle;pitch=1.2} @self
  - Aura{auraName=candlelitAura_em_cake;duration=500;onTick=[
      - effect:particles{particle=reddust;color=#ffed7e;amount=4;0.08;vS=0.08;size=0.7} @ModelPart{p=candle_marker1;offset=LOCAL;y=0.1}
      - effect:particles{article=reddust;color=#ffed7e;amount=4;0.08;vS=0.08;size=0.7} @ModelPart{p=candle_marker2;offset=LOCAL;y=0.1}
      - effect:particles{article=reddust;color=#ffed7e;amount=4;0.08;vS=0.08;size=0.7} @ModelPart{p=candle_marker3;offset=LOCAL;y=0.1}
      - effect:particles{article=reddust;color=#ffed7e;amount=4;0.08;vS=0.08;size=0.7} @ModelPart{p=candle_marker4;offset=LOCAL;y=0.1}
      ]
    ;onEnd=[
      - effect:particles{p=smoke_large;amount=2;size=1;repeat=3;repeatinterval=1;speed=0.006} @ModelPart{p=candle_marker1;offset=LOCAL;y=0.1}
    ];i=2;refreshDuration=true} @Self
  
  - delay 10
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 10
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 5
  - sound{s=block.note_block.chime;pitch=1.11} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1.32} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1.26} ?hasaura{n=candlelitAura_em_cake}
  - delay 30
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 10
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 5
  - sound{s=block.note_block.chime;pitch=1.11} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1.47} ?hasaura{n=candlelitAura_em_cake}
  - delay 15
  - sound{s=block.note_block.chime;pitch=1.32} ?hasaura{n=candlelitAura_em_cake}

slice_cake_em_redvelvet_cake:
  Cooldown: 0.4
  TriggerConditions:
  - holding{m=cakeknife_em} true
  Conditions:
  - variableInRange{var=caster.slices;value=<1} castInstead death_cake
  Skills:
  - variablesubtract{var=caster.slices;amount=1} @self
  - message{m="Slices <caster.var.slices> xd"} @PlayersNearOrigin{r=75} 0 #DEBUGMESSAGE
  - sound{s=block.cake.add_candle;pitch=1.2} @self
  - skill{s=soplamientum_cako} @Self ?variableInRange{var=caster.slices;value=<11}

  - effect:particles{particle=block_crack;material=white_wool;amount=6;hS=0.15;vS=0.15;size=1.2;y=0.3} @Self
  - dropitem{i=redvelvet_slice2} @selflocation{y=0.5} ?variableInRange{var=caster.slices;value=>7}
  - dropitem{i=redvelvet_slice } @selflocation{y=0.5} ?!variableInRange{var=caster.slices;value=>7}
  - changepart{m=em_redvelvet_cake;pid=core;nm=em_redvelvet_cake;npid=cake1} @self ?variableEquals{var=caster.slices;value="13"}
  - changepart{m=em_redvelvet_cake;pid=core;nm=em_redvelvet_cake;npid=cake2} @self ?variableEquals{var=caster.slices;value="12"}
  - changepart{m=em_redvelvet_cake;pid=core;nm=em_redvelvet_cake;npid=cake3} @self ?variableEquals{var=caster.slices;value="11"}
  - changepart{m=em_redvelvet_cake;pid=core;nm=em_redvelvet_cake;npid=cake4} @self ?variableEquals{var=caster.slices;value="10"}
  - changepart{m=em_redvelvet_cake;pid=core;nm=em_redvelvet_cake;npid=cake5} @self ?variableEquals{var=caster.slices;value="9"}
  - changepart{m=em_redvelvet_cake;pid=core;nm=em_redvelvet_cake;npid=cake6} @self ?variableEquals{var=caster.slices;value="8"}
  - changepart{m=em_redvelvet_cake;pid=core;nm=em_redvelvet_cake;npid=cake7} @self ?variableEquals{var=caster.slices;value="7"}
  - changepart{m=em_redvelvet_cake;pid=core;nm=em_redvelvet_cake;npid=cake8} @self ?variableEquals{var=caster.slices;value="6"}
  - changepart{m=em_redvelvet_cake;pid=core;nm=em_redvelvet_cake;npid=cake9} @self ?variableEquals{var=caster.slices;value="5"}
  - changepart{m=em_redvelvet_cake;pid=core;nm=em_redvelvet_cake;npid=cake10} @self ?variableEquals{var=caster.slices;value="4"}
  - changepart{m=em_redvelvet_cake;pid=core;nm=em_redvelvet_cake;npid=cake11} @self ?variableEquals{var=caster.slices;value="3"}
  - changepart{m=em_redvelvet_cake;pid=core;nm=em_redvelvet_cake;npid=cake12} @self ?variableEquals{var=caster.slices;value="2"}
  - changepart{m=em_redvelvet_cake;pid=core;nm=em_redvelvet_cake;npid=cake13} @self ?variableEquals{var=caster.slices;value="1"}
  
  - remove @Self ?variableEquals{var=caster.slices;value="0"}

#ARROWPLENISH

EM_ARROWPLENISHMENT:
  Conditions:
  - hasaura{n=arrowplenish_em} false
  - hasitem{i=ARROW;amount=0} true
  - hasitem{i=ARROW;amount=>1} false
  Skills:
  - Aura{auraName=arrowplenish_em;duration=900}
  - giveitem{i=arrow} @Self ?hasitem{i=ARROW;amount=0}
EM_ARROWPLENISHMENT_LIBERATION:
  Conditions:
  - hasaura{n=arrowplenish_em} true
  Skills:
  - auraremove{aura=arrowplenish_em} @self
  - takeitem{i=ARROW;a=1} @Self


#========== HATS

wear_partyhat1_em:
  Conditions:
  - wearing{slot=HEAD;m=partyhat1_em} false
  - wearing{slot=HEAD;m=IRON_HELMET} false
  - wearing{slot=HEAD;m=LEATHER_HELMET} false
  - wearing{slot=HEAD;m=DIAMOND_HELMET} false
  - wearing{slot=HEAD;m=NETHERITE_HELMET} false
  - wearing{slot=HEAD;m=GOLDEN_HELMET} false
  Skills:
  - sound{s=item.armor.equip_netherite;volume=1;pitch=0.8} @origin
  - takeitem{i=partyhat1_em;a=1} @Self
  - equip{item=partyhat1_em:4} @Self

  

#===== KAZOO

em_kazooing:
  Cooldown: 0.4
  Skills:
  - sound{s=em_bridday:custom.bridday.kazoo;pitch=<random.float.0.7to0.9>;v=3} @self

#=== CONFETTI CANNON
em_shootcftball:
  Skills:
  - lunge{v=-0.4;vy=-0.1;repeat=2;repeatinterval=1} @forward{f=-10}
  - sound{s=entity.firework_rocket.blast;pitch=<random.float.0.7to0.9>;v=3} @self
  - sound{s=entity.generic.explode;volume=3;pitch=0.7} @Origin
  - effect:particles{p=EXPLOSION_NORMAL;y=0;amount=1;speed=0.05;hS=0.2;vS=0.2;size=0.6} @Forward{f=1.2;y=1.6;sideOffset=0.3}
  - projectile{bulletType=MYTHICITEM;material=em_confettiball;bulletSpin=150;onEnd=em_cftexplode1;
    onTick=emcft_tick;onhit=emcft_hit;mr=15;v=30;i=1;hR=1;hp=true;hnp=true;vR=1;d=50;syo=1;g=0.4;tyo=0;sE=false;sB=true} @Forward{f=5;y=1.6}
emcft_hit:
  TargetConditions:
  - faction{faction=Pinata} false
  Skills:
  - pull{velocity=7;to=true} @TargetedTarget
  - throw{velocity=25;velocityY=0.5} @TargetedTarget
  
emcft_tick:
  Skills:
  - effect:particles{particle=CAMPFIRE_COSY_SMOKE;amount=1;hS=0.1;vS=0.1;speed=0.005;size=0.2} @origin{y=0.1}
em_cftexplode1:
  Skills:
  - damage{a=1;ignorearmor=false} @EntitiesNearOrigin{r=5;conditions=[  - faction{faction=Balloon} true ]}
  - sound{s=entity.generic.explode;volume=3;pitch=1.5} @Origin
  - effect:particles{p=explosion_large;y=0;amount=5;speed=0.2;hS=0.8;vS=0.8} @Origin
  - sound{s=em_bridday:custom.bridday.confetto1;pitch=<random.float.0.8to1.4>} @Origin
  - skill{s=[
      - summon{mob=confetti_em2;amount=1;noise=4;r=1.5;yr=3} @RandomLocationsNearOrigin{a=1;r=2;s=1;minr=0;y=-3.4}];repeat=9;repeatinterval=1} @Origin
  - skill{s=[
      - summon{mob=confetti_em2;amount=1;noise=4;r=1.5;yr=2} @RandomLocationsNearOrigin{a=1;r=2;s=1;minr=0;y=-3.4}
      - sound{s=entity.firework_rocket.blast;pitch=<random.float.0.8to1.4>;v=3} @self];repeat=7;repeatinterval=2}
  - skill{s=[
    - potion{type=LEVITATION;duration=6;level=10;p=false;delay=0}
    - throw{velocity=12;velocityY=4}
    - potion{type=LEVITATION;duration=5;level=4;p=false;delay=6}
    - potion{type=LEVITATION;duration=3;level=0;p=false;delay=11}
    - potion{type=SLOW_FALLING;duration=5;level=0;p=false;delay=14}
    - potion{type=SLOW;duration=25;lvl=7;p=false;force=true}
    - potion{type=SLOW;duration=20;level=1;p=false;force=true;delay=25}]} @EntitiesNearOrigin{r=3;conditions=[  - faction{faction=Pinata} false ]}